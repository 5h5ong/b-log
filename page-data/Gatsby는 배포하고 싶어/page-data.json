{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/Gatsby는 배포하고 싶어/",
    "result": {"data":{"markdownRemark":{"id":"f8763d69-8a8e-5ce0-8e90-ad42c74743b8","html":"<p>멋진 블로그를 만들면 무슨 소용인가요! 인터넷에서 접근할 수 있어야 비로소 반듯한 블로그가 되는 법 입니다.</p>\n<p>그래서 고민을 시작했습니다. 어디에 배포해야 잘 배포했다고 소문이 날까?\nGatsby Cloud도 있구요, Netlity도 있고.. 선택지가 꽤 많습니다. 대체 무엇을 써야 하는가?!?</p>\n<h1 id=\"github-pages\" style=\"position:relative;\"><a href=\"#github-pages\" aria-label=\"github pages permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Github Pages</h1>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 244px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/b-log/static/80ad829578749009027eeb0edf8bc3e9/0cba8/2022-02-15-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 139.1891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"역사적인 배포지 발표 장면.png\"\n        title=\"역사적인 배포지 발표 장면.png\"\n        src=\"/b-log/static/80ad829578749009027eeb0edf8bc3e9/0cba8/2022-02-15-1.png\"\n        srcset=\"/b-log/static/80ad829578749009027eeb0edf8bc3e9/12f09/2022-02-15-1.png 148w,\n/b-log/static/80ad829578749009027eeb0edf8bc3e9/0cba8/2022-02-15-1.png 244w\"\n        sizes=\"(max-width: 244px) 100vw, 244px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">역사적인 배포지 발표 장면.png</figcaption>\n  </figure></p>\n<p>여러 조건을 따진 결과 이번 블로그 배포지의 영광을 <code>Github Pages</code>가 차지하게 되었습니다! 모두 축하해 주세요!</p>\n<p>Github Pages는 무려 <strong>무료</strong>입니다! 과금 걱정은 이제 그만! 그저 올려 놓으면 그저 끝이라는 거에요! <strong>무료!!</strong></p>\n<h1 id=\"배포는-어캐-해요\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC%EB%8A%94-%EC%96%B4%EC%BA%90-%ED%95%B4%EC%9A%94\" aria-label=\"배포는 어캐 해요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배포는 어캐 해요?</h1>\n<p>걱정하지 마시라, 별로 설정할 것도 없습니다.</p>\n<h2 id=\"gatsby-빌드\" style=\"position:relative;\"><a href=\"#gatsby-%EB%B9%8C%EB%93%9C\" aria-label=\"gatsby 빌드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby 빌드</h2>\n<p>그냥 코드를 생짜로 올려버리면 될까요? 아닙니다. 실제 배포를 하기 위해서는 코드를 빌드 해주는 작업이 필요합니다.\nGatsby가 생짜 코드를 예쁘게 다듬어서 배포 환경에서 제대로 작동할 수 있게 만드는 거에요.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">npm</span> run build</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>다음 명령어를 실행하면 gatsby build가 실행됩니다. 모든 작업이 끝나면 <code>public</code>이라는 디렉토리가 생성됐을 거에요.\n배포에 사용되는 것이 바로 저 디렉토리 입니다!</p>\n<h2 id=\"master\" style=\"position:relative;\"><a href=\"#master\" aria-label=\"master permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>master</h2>\n<p>저는 하나의 저장소에 원래 파일과 빌드 파일을 같이 넣어두기로 결정 했습니다.</p>\n<p>이를 위해 먼저 원래 파일을 Github에 올려줄 거에요. 원래처럼 저장소를 하나 만들고 master에 푸시 해주세요.\n이제 저장소의 master branch에서 원래 파일들을 볼 수 있어요!</p>\n<h2 id=\"gh-pages\" style=\"position:relative;\"><a href=\"#gh-pages\" aria-label=\"gh pages permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gh-pages</h2>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev gh-pages</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>이제 배포하는 것만이 남았네요. 이번에 수고 해주실 패키지는 바로 <code>gh-pages</code> 입니다.\n우리가 원하는 임의의 브랜치에 업로드를 할 수 있게 해 줄 거에요.</p>\n<p>코드에 쓰이진 않으니 dev dependency에 넣어주세요.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">gh-pages -d public -b gh-pages</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code>gh-pages</code>는 다음과 같이 쓰입니다. 디렉토리, public을. 브랜치, gh-pages에 업로드한다. 이렇게 이해하면 됩니다.</p>\n<p>Github은 <code>gh-pages</code>라는 브랜치가 있을 때 그 브랜치의 파일을 토대로 Github Pages를 배포해요.\n물론 Github Pages에 사용할 브랜치를 설정에서 직접 설정할 수도 있답니다!\n하지만 저는 설정할 일도 없이 자연스럽게 이뤄지는 이 방식이 훨씬 더 마음에 들어요.</p>\n<h2 id=\"끝\" style=\"position:relative;\"><a href=\"#%EB%81%9D\" aria-label=\"끝 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>끝?</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> userName <span class=\"token operator\">=</span> <span class=\"token string\">\"testUser\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> repositoryName <span class=\"token operator\">=</span> <span class=\"token string\">\"example\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>userName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.github.io/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>repositoryName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>다음 주소에서 확인해 보세요. 블로그가 보이나요? 축하합니다. 여러분들은 이제 배포도 정복해 버린겁니다!</p>\n<h2 id=\"scripts-설정\" style=\"position:relative;\"><a href=\"#scripts-%EC%84%A4%EC%A0%95\" aria-label=\"scripts 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scripts 설정</h2>\n<p>다만 위의 저 명령어들을 배포할 때마다 쳐야 한다면 꽤 귀찮을 겁니다. 하다 못해 아예 명령어를 잊어 버릴지도 몰라요!</p>\n<p>그래서 <code>package.json</code>의 scripts에 배포 명령어를 만들어 둘 거에요!</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  ...\n  <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build --prefix-paths\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"clean\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby clean\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run clean &amp;&amp; npm run build &amp;&amp; gh-pages -d public -b gh-pages\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>명령어 순서는 다음과 같습니다.</p>\n<ol>\n<li>public, .cache 정리</li>\n<li>빌드</li>\n<li>Github에 배포</li>\n</ol>\n<p>혹시나 생길 오류를 아예 없애기 위해 <code>gatsby clean</code>을 통해 정리한 다음 배포를 진행하게 만들어 줬습니다.</p>\n<p>이제 배포를 하고 싶으면 단순히 <code>npm run deploy</code>만 입력하면 된다구요! 너무 간단하지 않나요?</p>\n<h1 id=\"알아둬야-할-것\" style=\"position:relative;\"><a href=\"#%EC%95%8C%EC%95%84%EB%91%AC%EC%95%BC-%ED%95%A0-%EA%B2%83\" aria-label=\"알아둬야 할 것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>알아둬야 할 것</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> userName <span class=\"token operator\">=</span> <span class=\"token string\">\"testUser\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> repositoryName <span class=\"token operator\">=</span> <span class=\"token string\">\"example\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// return `https://${userName}.github.io/${repositoryName}`;</span>\n<span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>userName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.github.io/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>사실 Github Pages 배포의 정석은 저장소의 이름을 <code>${userName}.github.io</code>로 만들어 그 안에 파일을 업로드하는 거에요.\n이렇게 배포하면 상단과 같은 주소로 배포된 사이트에 접속할 수 있게 돼요. 뒤에 <code>${repositoryName}</code>이 붙지 않는 형태죠.</p>\n<p><strong>\"그렇다면 너는 왜 그렇게 하지 않았나?\"</strong> 라고 물어 보신다면 저는 예전에 이미 배포한 서비스가 하나 있거든요!\n그 애가 이미 github.io를 사용하고 있어서 다른 방법을 찾아야 했어요.\n배포한 서비스를 밀어버리고 거기에 블로그를 넣어도 되겠지만 어떻게 그러겠어요, 내 손으로 만들었는데!</p>\n<p>그 방식 때문에 약간의 문제가 발생했어요. Gatsby는 저 뒤의 <code>${repositoryName}</code> 같은 건 듣도 보지도 못했거든요.\n결국 Gatsby는 그걸 무시해 버려요. 링크에 <code>${respositoryName}</code>이 빠져 버리는 거에요.\n그럼 어떻게 될까요? 물론 개박살이죠! 하하!!</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/b-log/static/3782dac8fedf4b5c6c6a77ddc944d3e8/d44c9/2022-02-15-13-11-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.189189189189186%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAACJ0lEQVQozx3D+08SAQDA8fvdDddMBe+Ox3E8RYITBO5OxAfgAz18oAgqimn4Qsd0ZTaXNVdb/Vbrh9bmVltbNdfWX9F/9W3rs32EiFNG7LYRkR3EPDJSbw+q6CAgiwRlEb/kYDI6SEVPE5ZFApKIMmDHLw38H3dJZFQPir0P70AfwohHQbLZyHrdTPgV9GiYiqkRdImosohHsvNkzOTzRoVUUCWmuDGCPhI+N3G3yGI4QGUohLv/IarUh2CqPjJOmVUtSj0V5669y6eTbaIBL1U9SSrs403N4ke7ydfTBhelHK1ilqOiwbvyJM9H0zzWE2zrGpmQjJBWvdS0OLsZgyVT53qlxN1Bg6nRNGtmgg97a/zq7HMwXeT+4pC7o3W0qJ8/L074trXC650Nzq1ZbvJZ6nocIeiwc1Ze4OmCRSU7xnTB4PvbawpmkrDfzfv9KpdzU2zYXGwOxVgpZDBHwvz+eMv97RXH5RKt2QIvZ/LMpx8hhBx2NI+TViFPp2gxN26yt7WEPhzBSA5h5BJYKY2DHoWKqGDlDaayGq+etfj78wsda56bRoOr2jLaiB9h0CVjt3WR8nrZSo3SXiihRlyEIgrZcQ2rkqOuD1PvlumIIXZKOWq1AtVylrPdZa4217mprjFjxhk0/AgBp4z9gY1aIk7RSnJZnyFtRNAmY+SrJqudErVMnHJXP+e9IZoTaZpti+bpImfHS1zMZTkcS2IVkyQWNf4B1gwc0XMPSwIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"오마이갓 비상사태 큰일났다 X..\"\n        title=\"오마이갓 비상사태 큰일났다 X..\"\n        src=\"/b-log/static/3782dac8fedf4b5c6c6a77ddc944d3e8/fcda8/2022-02-15-13-11-12.png\"\n        srcset=\"/b-log/static/3782dac8fedf4b5c6c6a77ddc944d3e8/12f09/2022-02-15-13-11-12.png 148w,\n/b-log/static/3782dac8fedf4b5c6c6a77ddc944d3e8/e4a3f/2022-02-15-13-11-12.png 295w,\n/b-log/static/3782dac8fedf4b5c6c6a77ddc944d3e8/fcda8/2022-02-15-13-11-12.png 590w,\n/b-log/static/3782dac8fedf4b5c6c6a77ddc944d3e8/d44c9/2022-02-15-13-11-12.png 722w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">오마이갓 비상사태 큰일났다 X..</figcaption>\n  </figure></p>\n<p>그럼 무엇을 해야 될까요? 바로 prefix가 등장할 차례입니다.</p>\n<h2 id=\"pathprefix\" style=\"position:relative;\"><a href=\"#pathprefix\" aria-label=\"pathprefix permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>pathPrefix</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> respositoryName <span class=\"token operator\">=</span> <span class=\"token string\">\"test\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  <span class=\"token literal-property property\">pathPrefix</span><span class=\"token operator\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">NODE_ENV</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"production\"</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>repositoryName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> before <span class=\"token operator\">=</span> <span class=\"token string\">\"https://.../\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> after <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://.../</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>repositoryName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code>pathPrefix</code>는 url 뒤에 새로운 prefix를 붙여주는 역할을 합니다. 이를 통해 Gatsby에게 <code>${repositoryName}</code>을 알려줄 수 있게 되는 거죠.\n거기에 <code>NODE_ENV</code>로 prefix의 적용을 다르게 만들 수도 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\">gatsby build --prefix-paths</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>그리고 설정에 명시된 prefix를 적용하기 위해선 빌드 때 <code>--prefix-paths</code>를 붙여줘야 해요.</p>\n<p>기억하세요! <code>pathPrefix</code>!</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#github-pages\">Github Pages</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%B0%B0%ED%8F%AC%EB%8A%94-%EC%96%B4%EC%BA%90-%ED%95%B4%EC%9A%94\">배포는 어캐 해요?</a></p>\n<ul>\n<li><a href=\"#gatsby-%EB%B9%8C%EB%93%9C\">Gatsby 빌드</a></li>\n<li><a href=\"#master\">master</a></li>\n<li><a href=\"#gh-pages\">gh-pages</a></li>\n<li><a href=\"#%EB%81%9D\">끝?</a></li>\n<li><a href=\"#scripts-%EC%84%A4%EC%A0%95\">scripts 설정</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%95%8C%EC%95%84%EB%91%AC%EC%95%BC-%ED%95%A0-%EA%B2%83\">알아둬야 할 것</a></p>\n<ul>\n<li><a href=\"#pathprefix\">pathPrefix</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Gatsby는 배포하고 싶어!","date":"February 15, 2022","tags":["gatsby","deploy","github","guide"]}}},"pageContext":{"id":"f8763d69-8a8e-5ce0-8e90-ad42c74743b8"}},
    "staticQueryHashes": []}